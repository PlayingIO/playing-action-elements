<link rel="import" href="../../mostly-elements/behaviors/mostly-func-behavior.html">

<script>
  var Playing = Playing || {};

  /**
   * @polymerBehavior Playing.ActionBehavior
   */
  Playing.ActionBehavior = [Mostly.FuncBehavior, {

    properties: {
    },

    actionPath(action) {
      if (action && action.id) {
        return 'actions/' + action.id;
      } else {
        return 'actions/' + action;
      }
    },

    layoutHref(layout) {
      return layout && this.resolveUrl(`playing-${layout}-action.html`);
    },

    layoutModel() {
      return {
        action: this.action,
        "new": true
      };
    },

    emptyAction() {
      return { rate: {}, rules: [], variables: [] };
    },

    resetFields() {
      this.action = this.emptyAction();
      this.errors = '';
    },

    hasErrors() {
      return this.errors !== '';
    }

  }];
</script>
